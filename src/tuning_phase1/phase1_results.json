{
  "timestamp": "2025-12-03T18:43:45.493668",
  "phase": "Phase 1 - Model Hyperparameter Tuning",
  "description": "Optimizes 4-model architecture + feature selection using current ensemble config",
  "optimization": {
    "n_trials": 300,
    "best_trial": 147,
    "best_score": 4.6585266596337975
  },
  "data_splits": {
    "train": "2004-09-13 to 2021-12-31",
    "val": "2022-01-03 to 2023-12-31",
    "test": "2024-01-01 to 2025-12-02",
    "train_size": 4358,
    "val_size": 501,
    "test_size": 482
  },
  "test_metrics": {
    "raw_predictions": {
      "total": 482,
      "up_count": 218,
      "down_count": 264,
      "up_pct": 0.45228215767634855,
      "down_pct": 0.5477178423236515,
      "accuracy": 0.6659751037344398,
      "up_accuracy": 0.6559633027522935,
      "down_accuracy": 0.6742424242424242
    },
    "actionable_signals": {
      "total": 433,
      "rate": 0.8983402489626556,
      "up_count": 218,
      "down_count": 215,
      "up_pct": 0.5034642032332564,
      "down_pct": 0.49653579676674364,
      "accuracy": 0.6766743648960739,
      "up_accuracy": 0.6559633027522935,
      "down_accuracy": 0.6976744186046512,
      "mag_mae": 13.257269843092335,
      "mag_mae_up": 11.145098854676744,
      "mag_mae_down": 15.408920663067093
    },
    "validation": {
      "expansion_mae": 8.795937106243555,
      "compression_mae": 4.829259932054809,
      "up_accuracy": 0.5688622754491018,
      "down_accuracy": 0.5788423153692615
    },
    "features": {
      "expansion": 121,
      "compression": 78,
      "up": 124,
      "down": 143
    }
  },
  "best_parameters": {
    "quality_threshold": 0.550317252910492,
    "cohort_fomc": 1.3827911451399557,
    "cohort_opex": 1.4475090617420638,
    "cohort_earnings": 1.3735579211983424,
    "cv_n_estimators": 268,
    "cv_max_depth": 6,
    "cv_learning_rate": 0.03771144406991167,
    "cv_subsample": 0.8647489690973251,
    "cv_colsample_bytree": 0.9171190330321137,
    "expansion_top_n": 121,
    "compression_top_n": 78,
    "up_top_n": 124,
    "down_top_n": 143,
    "correlation_threshold": 0.8801271391609888,
    "exp_max_depth": 7,
    "exp_learning_rate": 0.09147813790316761,
    "exp_n_estimators": 721,
    "exp_subsample": 0.90696979343492,
    "exp_colsample_bytree": 0.7223809205545406,
    "exp_colsample_bylevel": 0.7446126063789554,
    "exp_min_child_weight": 15,
    "exp_reg_alpha": 7.041632231453103,
    "exp_reg_lambda": 2.1125706867127705,
    "exp_gamma": 0.492160811763044,
    "comp_max_depth": 3,
    "comp_learning_rate": 0.04523841637039815,
    "comp_n_estimators": 344,
    "comp_subsample": 0.937275587363444,
    "comp_colsample_bytree": 0.710709631295389,
    "comp_colsample_bylevel": 0.7537151238337363,
    "comp_min_child_weight": 11,
    "comp_reg_alpha": 5.220293322723373,
    "comp_reg_lambda": 2.4855882331788055,
    "comp_gamma": 0.4325267718203598,
    "up_max_depth": 10,
    "up_learning_rate": 0.03970090958448427,
    "up_n_estimators": 741,
    "up_subsample": 0.742485349443606,
    "up_colsample_bytree": 0.8691415616582305,
    "up_min_child_weight": 10,
    "up_reg_alpha": 5.004828171597387,
    "up_reg_lambda": 6.330078750265259,
    "up_gamma": 0.9398513415542715,
    "down_max_depth": 5,
    "down_learning_rate": 0.03314709762699365,
    "down_n_estimators": 554,
    "down_subsample": 0.8661645907181126,
    "down_colsample_bytree": 0.814010786296116,
    "down_min_child_weight": 17,
    "down_reg_alpha": 5.36148991091319,
    "down_reg_lambda": 7.082405608041026,
    "down_gamma": 1.1184455298333278
  }
}