{
  "timestamp": "2025-12-17T21:25:52.242341",
  "phase": "Unified Phase 1 - Base Models + Ensemble Config (UPGRADED)",
  "description": "Tunes all 4 models + ensemble with ensemble evaluation. Uses frozen features for stability.",
  "frozen_features_used": true,
  "optimization": {
    "n_trials": 2000,
    "best_trial": 1955,
    "best_score": 1.7992844710633655
  },
  "data_splits": {
    "train": "2004-09-13 to 2021-12-31",
    "val": "2022-01-03 to 2023-12-31",
    "test": "2024-01-01 to 2025-11-28",
    "train_size": 4358,
    "val_size": 501,
    "test_size": 480
  },
  "test_metrics": {
    "all_predictions": {
      "total": 480,
      "up_count": 237,
      "down_count": 243,
      "up_pct": 0.49375,
      "down_pct": 0.50625,
      "accuracy": 0.6583333333333333,
      "up_accuracy": 0.6371308016877637,
      "down_accuracy": 0.6790123456790124
    },
    "actionable_signals": {
      "count": 137,
      "rate": 0.28541666666666665,
      "up_count": 90,
      "down_count": 47,
      "accuracy": 0.7518248175182481,
      "up_accuracy": 0.7444444444444445,
      "down_accuracy": 0.7659574468085106
    },
    "train_metrics": {
      "expansion_mae": 9.81501201029845,
      "compression_mae": 4.7502581145948355,
      "up_accuracy": 0.6016521340064249,
      "down_accuracy": 0.5835245525470399
    },
    "validation": {
      "expansion_mae": 8.802593475230067,
      "compression_mae": 4.760851075813682,
      "up_accuracy": 0.6007984031936128,
      "down_accuracy": 0.5409181636726547
    },
    "features": {
      "expansion": 35,
      "compression": 42,
      "up": 30,
      "down": 31
    }
  },
  "best_parameters": {
    "quality_threshold": 0.5494129388957236,
    "exp_max_depth": 6,
    "exp_learning_rate": 0.01804331164847608,
    "exp_n_estimators": 791,
    "exp_subsample": 0.7048224560278938,
    "exp_colsample_bytree": 0.9217079537210779,
    "exp_colsample_bylevel": 0.8514176585953624,
    "exp_min_child_weight": 9,
    "exp_reg_alpha": 7.561356049334009,
    "exp_reg_lambda": 9.32691176474553,
    "exp_gamma": 0.3871829269614115,
    "comp_max_depth": 6,
    "comp_learning_rate": 0.010464357464337085,
    "comp_n_estimators": 801,
    "comp_subsample": 0.8471503629992002,
    "comp_colsample_bytree": 0.73555409403172,
    "comp_colsample_bylevel": 0.915895247286162,
    "comp_min_child_weight": 3,
    "comp_reg_alpha": 7.237574320706234,
    "comp_reg_lambda": 3.8474324266157955,
    "comp_gamma": 0.035046277651486345,
    "up_max_depth": 4,
    "up_learning_rate": 0.0300098424717029,
    "up_n_estimators": 235,
    "up_subsample": 0.8046377562163977,
    "up_colsample_bytree": 0.7546428717819353,
    "up_min_child_weight": 6,
    "up_reg_alpha": 1.9392344364017233,
    "up_reg_lambda": 16.423274932630196,
    "up_gamma": 2.3501669065901116,
    "up_scale_pos_weight": 0.7866125741371581,
    "down_max_depth": 4,
    "down_learning_rate": 0.06860383582329692,
    "down_n_estimators": 285,
    "down_subsample": 0.6605576862229137,
    "down_colsample_bytree": 0.7335847569039697,
    "down_min_child_weight": 18,
    "down_reg_alpha": 5.920017172102845,
    "down_reg_lambda": 18.173042498074057,
    "down_gamma": 1.7357251601800632,
    "down_scale_pos_weight": 0.7216275019957359,
    "up_advantage": 0.08189164974746262,
    "classifier_weight_up": 0.5695662736238603,
    "classifier_weight_down": 0.6939821436411334,
    "mag_scale_up_small": 3.9264656075269864,
    "mag_scale_up_medium": 6.14061880329608,
    "mag_scale_up_large": 12.843987456068465,
    "mag_scale_down_small": 3.2286428700811554,
    "mag_scale_down_medium": 6.755996950797523,
    "mag_scale_down_large": 9.225076246935723,
    "boost_threshold_up": 14.462081998592872,
    "boost_threshold_down": 14.174265406933877,
    "boost_amount_up": 0.05488329221646909,
    "boost_amount_down": 0.06047620551857822,
    "min_confidence_up": 0.6958913053521468,
    "min_confidence_down": 0.6863628104126055,
    "up_thresh_high": 0.6152420080233474,
    "up_thresh_med": 0.7094570713856785,
    "up_thresh_low": 0.7766483405681428,
    "down_thresh_high": 0.7506158995256607,
    "down_thresh_med": 0.737128506403925,
    "down_thresh_low": 0.8055892171014065
  }
}