{
  "timestamp": "2025-12-22T01:44:57.040331",
  "phase": "Unified Phase 1 - Ternary Decision System (Production Aligned)",
  "description": "Tunes all 4 models + ensemble using production predict() method",
  "frozen_features_used": true,
  "optimization": {
    "n_trials": 1000,
    "best_trial": 190,
    "best_score": 0.13097776424002427
  },
  "data_splits": {
    "train": "2004-09-13 to 2021-12-31",
    "val": "2022-01-03 to 2023-12-31",
    "test": "2024-01-01 to 2025-11-28",
    "train_size": 4358,
    "val_size": 501,
    "test_size": 480
  },
  "test_metrics": {
    "directional_predictions": {
      "total": 480,
      "decisions": 348,
      "up_count": 147,
      "down_count": 201,
      "up_pct": 0.4224137931034483,
      "down_pct": 0.5775862068965517,
      "accuracy": 0.7298850574712644,
      "up_accuracy": 0.7551020408163265,
      "down_accuracy": 0.7114427860696517
    },
    "no_decision_stats": {
      "count": 132,
      "rate": 0.275
    },
    "features": {
      "expansion": 35,
      "compression": 42,
      "up": 30,
      "down": 31
    }
  },
  "best_parameters": {
    "quality_threshold": 0.5504076189411432,
    "exp_max_depth": 3,
    "exp_learning_rate": 0.03242124500677433,
    "exp_n_estimators": 333,
    "exp_subsample": 0.7978222754269939,
    "exp_colsample_bytree": 0.7505474830503657,
    "exp_colsample_bylevel": 0.7693025001143993,
    "exp_min_child_weight": 10,
    "exp_reg_alpha": 7.056508712156344,
    "exp_reg_lambda": 9.288852125228406,
    "exp_gamma": 0.7995475050426328,
    "comp_max_depth": 6,
    "comp_learning_rate": 0.048453523123887295,
    "comp_n_estimators": 814,
    "comp_subsample": 0.8100015676767132,
    "comp_colsample_bytree": 0.8817172666944934,
    "comp_colsample_bylevel": 0.7893251647792906,
    "comp_min_child_weight": 7,
    "comp_reg_alpha": 1.1533861392560032,
    "comp_reg_lambda": 5.050589798192125,
    "comp_gamma": 0.41095642788676817,
    "up_max_depth": 4,
    "up_learning_rate": 0.0407204743216626,
    "up_n_estimators": 222,
    "up_subsample": 0.881463622275649,
    "up_colsample_bytree": 0.9493791691147406,
    "up_min_child_weight": 15,
    "up_reg_alpha": 5.2808092511795595,
    "up_reg_lambda": 7.500752544870236,
    "up_gamma": 1.14778179435897,
    "up_scale_pos_weight": 0.700091304288803,
    "down_max_depth": 4,
    "down_learning_rate": 0.053801797418355134,
    "down_n_estimators": 248,
    "down_subsample": 0.7543392795696523,
    "down_colsample_bytree": 0.714569988480943,
    "down_min_child_weight": 13,
    "down_reg_alpha": 5.743700673865153,
    "down_reg_lambda": 16.208400992106462,
    "down_gamma": 1.8454427991995348,
    "down_scale_pos_weight": 0.5860093820343745,
    "up_advantage": -0.04521908988506812,
    "classifier_weight_up": 0.6011206798496859,
    "classifier_weight_down": 0.6624292273889907,
    "mag_scale_up_small": 3.0878871248751185,
    "mag_scale_up_medium": 6.072520083644746,
    "mag_scale_up_large": 9.997318562518725,
    "mag_scale_down_small": 3.047824233830767,
    "mag_scale_down_medium": 6.97596703429111,
    "mag_scale_down_large": 9.203143354330361,
    "decision_threshold": 0.6839986718019887
  }
}