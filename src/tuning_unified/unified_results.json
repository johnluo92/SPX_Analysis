{
  "timestamp": "2025-12-09T07:58:21.494555",
  "phase": "Unified Phase 1 - Base Models + Ensemble Config",
  "description": "Tunes all 4 models + ensemble with ensemble evaluation",
  "optimization": {
    "n_trials": 300,
    "best_trial": 284,
    "best_score": 1.8616963243876294
  },
  "data_splits": {
    "train": "2004-09-13 to 2021-12-31",
    "val": "2022-01-03 to 2023-12-31",
    "test": "2024-01-01 to 2025-11-28",
    "train_size": 4358,
    "val_size": 501,
    "test_size": 480
  },
  "test_metrics": {
    "all_predictions": {
      "total": 480,
      "up_count": 130,
      "down_count": 350,
      "up_pct": 0.2708333333333333,
      "down_pct": 0.7291666666666666,
      "accuracy": 0.6604166666666667,
      "up_accuracy": 0.7538461538461538,
      "down_accuracy": 0.6257142857142857
    },
    "actionable_signals": {
      "count": 188,
      "rate": 0.39166666666666666,
      "up_count": 130,
      "down_count": 58,
      "accuracy": 0.75,
      "up_accuracy": 0.7538461538461538,
      "down_accuracy": 0.7413793103448276
    },
    "train_metrics": {
      "expansion_mae": 9.811771780925426,
      "compression_mae": 4.906572641878296,
      "up_accuracy": 0.6346109708515033,
      "down_accuracy": 0.6061510213449621
    },
    "validation": {
      "expansion_mae": 8.797438517526562,
      "compression_mae": 4.838751940913903,
      "up_accuracy": 0.6127744510978044,
      "down_accuracy": 0.5788423153692615
    },
    "features": {
      "expansion": 115,
      "compression": 96,
      "up": 112,
      "down": 149
    }
  },
  "best_parameters": {
    "quality_threshold": 0.5669085099999601,
    "cohort_fomc": 1.1409644585047163,
    "cohort_opex": 1.114251904830743,
    "cohort_earnings": 1.3948525094127056,
    "cv_n_estimators": 168,
    "cv_max_depth": 6,
    "cv_learning_rate": 0.03202687445400393,
    "cv_subsample": 0.931824052835344,
    "cv_colsample_bytree": 0.920286027647966,
    "expansion_top_n": 115,
    "compression_top_n": 96,
    "up_top_n": 112,
    "down_top_n": 149,
    "correlation_threshold": 0.8531280451656906,
    "exp_max_depth": 4,
    "exp_learning_rate": 0.011860690880987818,
    "exp_n_estimators": 699,
    "exp_subsample": 0.926842832735806,
    "exp_colsample_bytree": 0.7740176370913854,
    "exp_colsample_bylevel": 0.9367414475343041,
    "exp_min_child_weight": 13,
    "exp_reg_alpha": 6.6586695816121875,
    "exp_reg_lambda": 2.000743743677666,
    "exp_gamma": 0.7694787692960235,
    "comp_max_depth": 3,
    "comp_learning_rate": 0.11375084111400977,
    "comp_n_estimators": 506,
    "comp_subsample": 0.7986704271648897,
    "comp_colsample_bytree": 0.7654862100181621,
    "comp_colsample_bylevel": 0.8903253850339092,
    "comp_min_child_weight": 6,
    "comp_reg_alpha": 3.944910957080398,
    "comp_reg_lambda": 8.960330062132005,
    "comp_gamma": 0.4900299500599857,
    "up_max_depth": 4,
    "up_learning_rate": 0.020185096651551854,
    "up_n_estimators": 297,
    "up_subsample": 0.6314774109680694,
    "up_colsample_bytree": 0.9279176223341539,
    "up_min_child_weight": 16,
    "up_reg_alpha": 1.7430129207863216,
    "up_reg_lambda": 14.692552329143238,
    "up_gamma": 2.121094665285778,
    "up_scale_pos_weight": 0.9606169843227077,
    "down_max_depth": 7,
    "down_learning_rate": 0.022752630485730316,
    "down_n_estimators": 231,
    "down_subsample": 0.6326580494291876,
    "down_colsample_bytree": 0.7149918359053903,
    "down_min_child_weight": 18,
    "down_reg_alpha": 3.345994335286443,
    "down_reg_lambda": 4.133170475920918,
    "down_gamma": 1.2397743534283734,
    "down_scale_pos_weight": 0.9195054715872362,
    "up_advantage": 0.03978211601731029,
    "classifier_weight_up": 0.5505617358607949,
    "classifier_weight_down": 0.6776733423284216,
    "mag_scale_up_small": 3.6145381882856737,
    "mag_scale_up_medium": 6.222739022453517,
    "mag_scale_up_large": 10.561132707150275,
    "mag_scale_down_small": 4.245363298871787,
    "mag_scale_down_medium": 7.177465637905315,
    "mag_scale_down_large": 13.387847726374163,
    "boost_threshold_up": 17.52973231442041,
    "boost_threshold_down": 11.88961249164025,
    "boost_amount_up": 0.05361217385964533,
    "boost_amount_down": 0.056379633888684604,
    "min_confidence_up": 0.6074503944040768,
    "min_confidence_down": 0.6774549068699426,
    "up_thresh_high": 0.6200328061342992,
    "up_thresh_med": 0.7417747912773989,
    "up_thresh_low": 0.7782806897252516,
    "down_thresh_high": 0.7423546810062133,
    "down_thresh_med": 0.8092598848124253,
    "down_thresh_low": 0.8023142484362645
  }
}