{
  "timestamp": "2025-12-15T00:27:56.181353",
  "phase": "Unified Phase 1 - Base Models + Ensemble Config",
  "description": "Tunes all 4 models + ensemble with ensemble evaluation",
  "optimization": {
    "n_trials": 100,
    "best_trial": 99,
    "best_score": 5.079171700308552
  },
  "data_splits": {
    "train": "2004-09-13 to 2021-12-31",
    "val": "2022-01-03 to 2023-12-31",
    "test": "2024-01-01 to 2025-11-28",
    "train_size": 4358,
    "val_size": 501,
    "test_size": 480
  },
  "test_metrics": {
    "all_predictions": {
      "total": 480,
      "up_count": 187,
      "down_count": 293,
      "up_pct": 0.38958333333333334,
      "down_pct": 0.6104166666666667,
      "accuracy": 0.6875,
      "up_accuracy": 0.7112299465240641,
      "down_accuracy": 0.6723549488054608
    },
    "actionable_signals": {
      "count": 155,
      "rate": 0.3229166666666667,
      "up_count": 83,
      "down_count": 72,
      "accuracy": 0.7548387096774194,
      "up_accuracy": 0.7469879518072289,
      "down_accuracy": 0.7638888888888888
    },
    "train_metrics": {
      "expansion_mae": 9.818952428855484,
      "compression_mae": 4.963185105985559,
      "up_accuracy": 0.673399127840257,
      "down_accuracy": 0.5350011475786092
    },
    "validation": {
      "expansion_mae": 8.802848657686132,
      "compression_mae": 4.866766125190922,
      "up_accuracy": 0.5868263473053892,
      "down_accuracy": 0.5788423153692615
    },
    "features": {
      "expansion": 76,
      "compression": 91,
      "up": 97,
      "down": 128
    }
  },
  "best_parameters": {
    "quality_threshold": 0.6047172538271367,
    "cv_n_estimators": 265,
    "cv_max_depth": 6,
    "cv_learning_rate": 0.1310534831217903,
    "cv_subsample": 0.8451540920854757,
    "cv_colsample_bytree": 0.7441567446934595,
    "expansion_top_n": 76,
    "compression_top_n": 91,
    "up_top_n": 97,
    "down_top_n": 128,
    "correlation_threshold": 0.9584783498078727,
    "exp_max_depth": 6,
    "exp_learning_rate": 0.05243019190402301,
    "exp_n_estimators": 406,
    "exp_subsample": 0.9060204381996306,
    "exp_colsample_bytree": 0.8706772118388523,
    "exp_colsample_bylevel": 0.9485189994101026,
    "exp_min_child_weight": 13,
    "exp_reg_alpha": 6.369221349687775,
    "exp_reg_lambda": 9.99664543245187,
    "exp_gamma": 0.5902843009619292,
    "comp_max_depth": 7,
    "comp_learning_rate": 0.032795038532615985,
    "comp_n_estimators": 750,
    "comp_subsample": 0.8688561206786412,
    "comp_colsample_bytree": 0.865677029733143,
    "comp_colsample_bylevel": 0.793005691808818,
    "comp_min_child_weight": 6,
    "comp_reg_alpha": 6.107199946457881,
    "comp_reg_lambda": 4.159762258524951,
    "comp_gamma": 0.18930047290688526,
    "up_max_depth": 4,
    "up_learning_rate": 0.04915370815787371,
    "up_n_estimators": 347,
    "up_subsample": 0.6782209789947939,
    "up_colsample_bytree": 0.943677989674621,
    "up_min_child_weight": 5,
    "up_reg_alpha": 6.056464248480166,
    "up_reg_lambda": 15.183959601440218,
    "up_gamma": 1.7485158583900875,
    "up_scale_pos_weight": 1.0063197555117316,
    "down_max_depth": 7,
    "down_learning_rate": 0.048351723417120906,
    "down_n_estimators": 404,
    "down_subsample": 0.8577558897523772,
    "down_colsample_bytree": 0.7369730770945448,
    "down_min_child_weight": 10,
    "down_reg_alpha": 3.4329417794460286,
    "down_reg_lambda": 11.34624557414267,
    "down_gamma": 1.3584060643085976,
    "down_scale_pos_weight": 1.1524832503699354,
    "up_advantage": 0.08977374109857389,
    "classifier_weight_up": 0.6899474498582884,
    "classifier_weight_down": 0.678644008561727,
    "mag_scale_up_small": 3.3473918745035323,
    "mag_scale_up_medium": 5.8517857266760975,
    "mag_scale_up_large": 10.384776085672248,
    "mag_scale_down_small": 3.0770537482843343,
    "mag_scale_down_medium": 7.087923959491949,
    "mag_scale_down_large": 12.570602843155688,
    "boost_threshold_up": 14.615254846958543,
    "boost_threshold_down": 12.49546759952709,
    "boost_amount_up": 0.0767844319284288,
    "boost_amount_down": 0.0729774905644816,
    "min_confidence_up": 0.6081279009308902,
    "min_confidence_down": 0.6816836958277576,
    "up_thresh_high": 0.6454806531157344,
    "up_thresh_med": 0.7420944387771916,
    "up_thresh_low": 0.7457383882495229,
    "down_thresh_high": 0.7037791668199641,
    "down_thresh_med": 0.7614551853548276,
    "down_thresh_low": 0.8002166247262673
  }
}