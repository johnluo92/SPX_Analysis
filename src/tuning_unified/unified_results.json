{
  "timestamp": "2025-12-21T10:19:59.988911",
  "phase": "Unified Phase 1 - Distribution-Constrained Classifiers",
  "description": "Forces wide probability distributions (P10<0.3, P90>0.7)",
  "frozen_features_used": true,
  "optimization": {
    "n_trials": 500,
    "best_trial": 236,
    "best_score": 1.05916098892753
  },
  "data_splits": {
    "train": "2004-09-13 to 2021-12-31",
    "val": "2022-01-03 to 2023-12-31",
    "test": "2024-01-01 to 2025-11-28",
    "train_size": 4358,
    "val_size": 501,
    "test_size": 480
  },
  "test_metrics": {
    "directional_predictions": {
      "total": 480,
      "decisions": 287,
      "up_count": 127,
      "down_count": 160,
      "up_pct": 0.4425087108013937,
      "down_pct": 0.5574912891986062,
      "accuracy": 0.7282229965156795,
      "up_accuracy": 0.7480314960629921,
      "down_accuracy": 0.7125
    },
    "probability_distributions": {
      "up_p10": 0.35437440872192383,
      "up_p90": 0.5025830864906311,
      "up_mean": 0.40800777077674866,
      "down_p10": 0.2988971173763275,
      "down_p90": 0.5710882544517517,
      "down_mean": 0.4575170874595642
    },
    "no_decision_stats": {
      "count": 193,
      "rate": 0.40208333333333335
    },
    "train_metrics": {
      "expansion_mae": 9.804600715738387,
      "compression_mae": 4.95941181286169,
      "up_accuracy": 0.6016521340064249,
      "down_accuracy": 0.6599357503441946
    },
    "validation": {
      "expansion_mae": 8.810679630041257,
      "compression_mae": 4.829831594926453,
      "up_accuracy": 0.5968063872255489,
      "down_accuracy": 0.5129740518962076
    },
    "features": {
      "expansion": 35,
      "compression": 42,
      "up": 30,
      "down": 31
    }
  },
  "best_parameters": {
    "quality_threshold": 0.5050732496144409,
    "exp_max_depth": 2,
    "exp_learning_rate": 0.018375183502295746,
    "exp_n_estimators": 617,
    "exp_subsample": 0.8123218121923463,
    "exp_colsample_bytree": 0.8095689052732544,
    "exp_colsample_bylevel": 0.9091950984146123,
    "exp_min_child_weight": 6,
    "exp_reg_alpha": 0.196184940773381,
    "exp_reg_lambda": 1.5656208289479394,
    "exp_gamma": 0.6889272884559804,
    "comp_max_depth": 5,
    "comp_learning_rate": 0.030037238843629396,
    "comp_n_estimators": 526,
    "comp_subsample": 0.8239160739753255,
    "comp_colsample_bytree": 0.8091865537018582,
    "comp_colsample_bylevel": 0.7187910269616681,
    "comp_min_child_weight": 11,
    "comp_reg_alpha": 2.8647713409340274,
    "comp_reg_lambda": 6.427806776887712,
    "comp_gamma": 0.5312127084512813,
    "up_max_depth": 4,
    "up_learning_rate": 0.028708025965008873,
    "up_n_estimators": 296,
    "up_subsample": 0.9115975162543747,
    "up_colsample_bytree": 0.790340756363137,
    "up_min_child_weight": 12,
    "up_reg_alpha": 2.2523774096054026,
    "up_reg_lambda": 6.237511802086013,
    "up_gamma": 0.544492710711343,
    "up_scale_pos_weight": 0.8207374623649242,
    "down_max_depth": 6,
    "down_learning_rate": 0.029370316997507615,
    "down_n_estimators": 226,
    "down_subsample": 0.669304923418724,
    "down_colsample_bytree": 0.8028681844112253,
    "down_min_child_weight": 16,
    "down_reg_alpha": 2.6949011637197597,
    "down_reg_lambda": 2.327116193109913,
    "down_gamma": 2.868326190728958,
    "down_scale_pos_weight": 0.6476625671152022,
    "up_advantage": -0.09126029051815204,
    "classifier_weight_up": 0.5791590714580019,
    "classifier_weight_down": 0.722536900084048,
    "mag_scale_up_small": 3.3411036543374593,
    "mag_scale_up_medium": 6.073375004007782,
    "mag_scale_up_large": 11.48148464574048,
    "mag_scale_down_small": 4.149618735091219,
    "mag_scale_down_medium": 5.282215181580109,
    "mag_scale_down_large": 9.42312663500506,
    "decision_threshold": 0.6741654468490099
  }
}