{
  "timestamp": "2025-12-19T10:35:05.723320",
  "phase": "Unified Phase 1 - Ternary Decision System",
  "description": "Tunes all 4 models + ensemble with direct UP/DOWN/NO_DECISION output",
  "frozen_features_used": true,
  "optimization": {
    "n_trials": 1000,
    "best_trial": 868,
    "best_score": 1.8109507736410435
  },
  "data_splits": {
    "train": "2004-09-13 to 2021-12-31",
    "val": "2022-01-03 to 2023-12-31",
    "test": "2024-01-01 to 2025-11-28",
    "train_size": 4358,
    "val_size": 501,
    "test_size": 480
  },
  "test_metrics": {
    "directional_predictions": {
      "total": 480,
      "decisions": 293,
      "up_count": 137,
      "down_count": 156,
      "up_pct": 0.46757679180887374,
      "down_pct": 0.5324232081911263,
      "accuracy": 0.7201365187713311,
      "up_accuracy": 0.7299270072992701,
      "down_accuracy": 0.7115384615384616
    },
    "no_decision_stats": {
      "count": 187,
      "rate": 0.38958333333333334
    },
    "train_metrics": {
      "expansion_mae": 9.845743921203809,
      "compression_mae": 4.9067783987297915,
      "up_accuracy": 0.5969564214895089,
      "down_accuracy": 0.5665206363845976
    },
    "validation": {
      "expansion_mae": 8.812002575188584,
      "compression_mae": 4.834229920340794,
      "up_accuracy": 0.5968063872255489,
      "down_accuracy": 0.5349301397205589
    },
    "features": {
      "expansion": 35,
      "compression": 42,
      "up": 30,
      "down": 31
    }
  },
  "best_parameters": {
    "quality_threshold": 0.6417236478769356,
    "exp_max_depth": 3,
    "exp_learning_rate": 0.06865266893525729,
    "exp_n_estimators": 805,
    "exp_subsample": 0.8212260452594744,
    "exp_colsample_bytree": 0.7690305964686417,
    "exp_colsample_bylevel": 0.7013244672511084,
    "exp_min_child_weight": 13,
    "exp_reg_alpha": 7.6959683454588745,
    "exp_reg_lambda": 8.195875329086208,
    "exp_gamma": 0.7496075124498878,
    "comp_max_depth": 5,
    "comp_learning_rate": 0.04091663009471279,
    "comp_n_estimators": 325,
    "comp_subsample": 0.8588956911781426,
    "comp_colsample_bytree": 0.7841240383130611,
    "comp_colsample_bylevel": 0.8394514686234439,
    "comp_min_child_weight": 5,
    "comp_reg_alpha": 6.173802221046818,
    "comp_reg_lambda": 8.880457605036225,
    "comp_gamma": 0.30018636622116857,
    "up_max_depth": 3,
    "up_learning_rate": 0.016278867515181355,
    "up_n_estimators": 219,
    "up_subsample": 0.6786405314487585,
    "up_colsample_bytree": 0.8996266170760466,
    "up_min_child_weight": 8,
    "up_reg_alpha": 4.768905388761411,
    "up_reg_lambda": 17.635853483458355,
    "up_gamma": 1.5884477989878987,
    "up_scale_pos_weight": 0.9114551138735221,
    "down_max_depth": 4,
    "down_learning_rate": 0.04263741517923585,
    "down_n_estimators": 348,
    "down_subsample": 0.6901886110705511,
    "down_colsample_bytree": 0.8604659942527425,
    "down_min_child_weight": 13,
    "down_reg_alpha": 5.401348307109869,
    "down_reg_lambda": 19.402768664611827,
    "down_gamma": 1.6803943444762823,
    "down_scale_pos_weight": 0.6827977970056748,
    "direction_bias": -0.028233696013869,
    "classifier_weight_up": 0.5500267433153782,
    "classifier_weight_down": 0.684346198225864,
    "mag_scale_up_small": 3.818164107137844,
    "mag_scale_up_medium": 5.004116802416704,
    "mag_scale_up_large": 9.89093589103596,
    "mag_scale_down_small": 4.102435930281581,
    "mag_scale_down_medium": 5.793273492972739,
    "mag_scale_down_large": 9.917116453715053,
    "decision_threshold": 0.671362971904747
  }
}