{
  "timestamp": "2025-12-17T00:04:24.217187",
  "phase": "Phase 2 - Ensemble Config Tuner (IMPROVED)",
  "description": "Optimizes post-hoc ensemble decision logic using Phase 1 models. Prioritizes balanced accuracy.",
  "optimization": {
    "n_trials": 2000,
    "best_trial": 1865,
    "best_score": 10.547069709058537,
    "min_accuracy_target": 0.68
  },
  "data_splits": {
    "train": "2004-09-13 to 2021-12-31",
    "val": "2022-01-03 to 2023-12-31",
    "test": "2024-01-01 to 2025-11-28",
    "train_size": 4358,
    "val_size": 501,
    "test_size": 480
  },
  "test_metrics": {
    "raw_predictions": {
      "total": 480,
      "up_count": 214,
      "down_count": 266,
      "up_pct": 0.44583333333333336,
      "down_pct": 0.5541666666666667,
      "accuracy": 0.6520833333333333,
      "up_accuracy": 0.6448598130841121,
      "down_accuracy": 0.6578947368421053
    },
    "actionable_signals": {
      "total": 170,
      "rate": 0.3541666666666667,
      "up_count": 84,
      "down_count": 86,
      "up_pct": 0.49411764705882355,
      "down_pct": 0.5058823529411764,
      "accuracy": 0.7705882352941177,
      "up_accuracy": 0.7738095238095238,
      "down_accuracy": 0.7674418604651163,
      "mag_mae": 14.327366989027002,
      "mag_mae_up": 10.512416619642947,
      "mag_mae_down": 18.097435589359485
    }
  },
  "best_parameters": {
    "up_advantage": 0.07106895248691157,
    "up_thresh_high": 0.6975095150391056,
    "up_thresh_med": 0.7593866737691342,
    "up_thresh_low": 0.8178642695377798,
    "down_thresh_high": 0.7716203454994807,
    "down_thresh_med": 0.8413740951091506,
    "down_thresh_low": 0.8787654717937158,
    "classifier_weight_up": 0.7431822791316216,
    "classifier_weight_down": 0.6130216090374774,
    "mag_scale_up_small": 2.5296002151772847,
    "mag_scale_up_medium": 5.000870069837624,
    "mag_scale_up_large": 10.975647666801121,
    "mag_scale_down_small": 3.0798717597147167,
    "mag_scale_down_medium": 4.697967684071091,
    "mag_scale_down_large": 8.251581416244436,
    "boost_threshold_up": 11.945931618777681,
    "boost_threshold_down": 12.35333354980763,
    "boost_amount_up": 0.043146259432590414,
    "boost_amount_down": 0.07615681800143462,
    "min_confidence_up": 0.5587111464939675,
    "min_confidence_down": 0.6604084344489132
  }
}