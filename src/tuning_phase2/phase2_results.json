{
  "timestamp": "2025-12-17T22:34:22.752794",
  "phase": "Phase 2 - Ensemble Config Tuner (IMPROVED)",
  "description": "Optimizes post-hoc ensemble decision logic using Phase 1 models. Prioritizes balanced accuracy.",
  "optimization": {
    "n_trials": 2000,
    "best_trial": 285,
    "best_score": 10.779916275777392,
    "min_accuracy_target": 0.68
  },
  "data_splits": {
    "train": "2004-09-13 to 2021-12-31",
    "val": "2022-01-03 to 2023-12-31",
    "test": "2024-01-01 to 2025-11-28",
    "train_size": 4358,
    "val_size": 501,
    "test_size": 480
  },
  "test_metrics": {
    "raw_predictions": {
      "total": 480,
      "up_count": 220,
      "down_count": 260,
      "up_pct": 0.4583333333333333,
      "down_pct": 0.5416666666666666,
      "accuracy": 0.64375,
      "up_accuracy": 0.6318181818181818,
      "down_accuracy": 0.6538461538461539
    },
    "actionable_signals": {
      "total": 154,
      "rate": 0.32083333333333336,
      "up_count": 91,
      "down_count": 63,
      "up_pct": 0.5909090909090909,
      "down_pct": 0.4090909090909091,
      "accuracy": 0.7727272727272727,
      "up_accuracy": 0.7582417582417582,
      "down_accuracy": 0.7936507936507936,
      "mag_mae": 12.103347577951773,
      "mag_mae_up": 9.987508894652878,
      "mag_mae_down": 15.208852742148542
    }
  },
  "best_parameters": {
    "up_advantage": 0.05581667638671362,
    "up_thresh_high": 0.6476152075895422,
    "up_thresh_med": 0.7106660076297551,
    "up_thresh_low": 0.756110643711715,
    "down_thresh_high": 0.7355206697399608,
    "down_thresh_med": 0.8017720421110958,
    "down_thresh_low": 0.8387023908005877,
    "classifier_weight_up": 0.5431926777674304,
    "classifier_weight_down": 0.6884476552409594,
    "mag_scale_up_small": 3.143347253251285,
    "mag_scale_up_medium": 5.733322332604606,
    "mag_scale_up_large": 13.234280183429718,
    "mag_scale_down_small": 2.951633440689281,
    "mag_scale_down_medium": 4.477502222289553,
    "mag_scale_down_large": 8.266851678146667,
    "boost_threshold_up": 14.72729055623148,
    "boost_threshold_down": 13.375320016024585,
    "boost_amount_up": 0.07305795645874484,
    "boost_amount_down": 0.06358130293349375,
    "min_confidence_up": 0.5617274299798685,
    "min_confidence_down": 0.6371836762428019
  }
}