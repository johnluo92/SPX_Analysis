{
  "timestamp": "2025-12-15T02:39:11.529656",
  "phase": "Phase 2 - Ensemble Config Tuner (IMPROVED)",
  "description": "Optimizes post-hoc ensemble decision logic using Phase 1 models. Prioritizes balanced accuracy.",
  "optimization": {
    "n_trials": 500,
    "best_trial": 467,
    "best_score": 18.161313891064957,
    "min_accuracy_target": 0.65
  },
  "data_splits": {
    "train": "2004-09-13 to 2021-12-31",
    "val": "2022-01-03 to 2023-12-31",
    "test": "2024-01-01 to 2025-11-28",
    "train_size": 4358,
    "val_size": 501,
    "test_size": 480
  },
  "test_metrics": {
    "raw_predictions": {
      "total": 480,
      "up_count": 245,
      "down_count": 235,
      "up_pct": 0.5104166666666666,
      "down_pct": 0.4895833333333333,
      "accuracy": 0.6583333333333333,
      "up_accuracy": 0.6326530612244898,
      "down_accuracy": 0.6851063829787234
    },
    "actionable_signals": {
      "total": 116,
      "rate": 0.24166666666666667,
      "up_count": 53,
      "down_count": 63,
      "up_pct": 0.45689655172413796,
      "down_pct": 0.5431034482758621,
      "accuracy": 0.7931034482758621,
      "up_accuracy": 0.7924528301886793,
      "down_accuracy": 0.7936507936507936,
      "mag_mae": 12.236658508451171,
      "mag_mae_up": 9.975900537551556,
      "mag_mae_down": 14.169241935187939
    }
  },
  "best_parameters": {
    "up_advantage": 0.1340228581759527,
    "up_thresh_high": 0.689942449797006,
    "up_thresh_med": 0.7347526791464174,
    "up_thresh_low": 0.7990730731072834,
    "down_thresh_high": 0.7708619356259244,
    "down_thresh_med": 0.8461052309570066,
    "down_thresh_low": 0.8672792130623581,
    "classifier_weight_up": 0.7294718179056439,
    "classifier_weight_down": 0.7759787775198425,
    "mag_scale_up_small": 4.080187184326134,
    "mag_scale_up_medium": 7.14228132686275,
    "mag_scale_up_large": 13.40344813163819,
    "mag_scale_down_small": 2.8607399874449806,
    "mag_scale_down_medium": 5.221812326309545,
    "mag_scale_down_large": 11.751580089282779,
    "boost_threshold_up": 13.278924276242968,
    "boost_threshold_down": 13.194860159362674,
    "boost_amount_up": 0.03982683579002476,
    "boost_amount_down": 0.03533944300917971,
    "min_confidence_up": 0.6908592567917247,
    "min_confidence_down": 0.6076950933103638
  }
}