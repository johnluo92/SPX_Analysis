{
  "timestamp": "2025-12-06T15:39:54.492470",
  "phase": "Phase 2 - Ensemble Config Tuner (IMPROVED)",
  "description": "Optimizes post-hoc ensemble decision logic using Phase 1 models. Prioritizes balanced accuracy.",
  "optimization": {
    "n_trials": 200,
    "best_trial": 182,
    "best_score": 22.93948735698628,
    "min_accuracy_target": 0.7
  },
  "data_splits": {
    "train": "2004-09-13 to 2021-12-31",
    "val": "2022-01-03 to 2023-12-31",
    "test": "2024-01-01 to 2025-12-04",
    "train_size": 4358,
    "val_size": 501,
    "test_size": 484
  },
  "test_metrics": {
    "raw_predictions": {
      "total": 484,
      "up_count": 148,
      "down_count": 336,
      "up_pct": 0.30578512396694213,
      "down_pct": 0.6942148760330579,
      "accuracy": 0.6632231404958677,
      "up_accuracy": 0.722972972972973,
      "down_accuracy": 0.6369047619047619
    },
    "actionable_signals": {
      "total": 333,
      "rate": 0.6880165289256198,
      "up_count": 148,
      "down_count": 185,
      "up_pct": 0.4444444444444444,
      "down_pct": 0.5555555555555556,
      "accuracy": 0.7237237237237237,
      "up_accuracy": 0.722972972972973,
      "down_accuracy": 0.7243243243243244,
      "mag_mae": 13.237217049027551,
      "mag_mae_up": 10.419337797699638,
      "mag_mae_down": 15.49152045008988
    }
  },
  "best_parameters": {
    "up_advantage": 0.09132933464193507,
    "up_thresh_high": 0.5980658341886972,
    "up_thresh_med": 0.6779617175086233,
    "up_thresh_low": 0.6992024547272438,
    "down_thresh_high": 0.7843256150080405,
    "down_thresh_med": 0.8044441249196926,
    "down_thresh_low": 0.8333147804022947,
    "classifier_weight_up": 0.6452570744199378,
    "classifier_weight_down": 0.5410562044942063,
    "mag_scale_up_small": 2.7954777879047796,
    "mag_scale_up_medium": 5.004333346080645,
    "mag_scale_up_large": 10.343487345029446,
    "mag_scale_down_small": 3.4702493560432264,
    "mag_scale_down_medium": 4.614323550087183,
    "mag_scale_down_large": 8.907338560169842,
    "boost_threshold_up": 10.40387221997261,
    "boost_threshold_down": 12.662713896390022,
    "boost_amount_up": 0.0790666762065583,
    "boost_amount_down": 0.05195176727212792,
    "min_confidence_up": 0.5625317880117637,
    "min_confidence_down": 0.6675421280252244
  }
}