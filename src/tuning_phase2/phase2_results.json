{
  "timestamp": "2025-12-15T10:58:20.068548",
  "phase": "Phase 2 - Ensemble Config Tuner (IMPROVED)",
  "description": "Optimizes post-hoc ensemble decision logic using Phase 1 models. Prioritizes balanced accuracy.",
  "optimization": {
    "n_trials": 500,
    "best_trial": 446,
    "best_score": 16.650078259124196,
    "min_accuracy_target": 0.68
  },
  "data_splits": {
    "train": "2004-09-13 to 2021-12-31",
    "val": "2022-01-03 to 2023-12-31",
    "test": "2024-01-01 to 2025-11-28",
    "train_size": 4358,
    "val_size": 501,
    "test_size": 480
  },
  "test_metrics": {
    "raw_predictions": {
      "total": 480,
      "up_count": 255,
      "down_count": 225,
      "up_pct": 0.53125,
      "down_pct": 0.46875,
      "accuracy": 0.6375,
      "up_accuracy": 0.6078431372549019,
      "down_accuracy": 0.6711111111111111
    },
    "actionable_signals": {
      "total": 106,
      "rate": 0.22083333333333333,
      "up_count": 68,
      "down_count": 38,
      "up_pct": 0.6415094339622641,
      "down_pct": 0.3584905660377358,
      "accuracy": 0.8207547169811321,
      "up_accuracy": 0.8235294117647058,
      "down_accuracy": 0.8157894736842105,
      "mag_mae": 11.133454323989701,
      "mag_mae_up": 9.477007818531419,
      "mag_mae_down": 14.177734388075198
    }
  },
  "best_parameters": {
    "up_advantage": 0.13477359650077125,
    "up_thresh_high": 0.6758223414133137,
    "up_thresh_med": 0.7509598970713938,
    "up_thresh_low": 0.7778677473840915,
    "down_thresh_high": 0.7998549310034736,
    "down_thresh_med": 0.8439075220214686,
    "down_thresh_low": 0.8738056382495232,
    "classifier_weight_up": 0.6529132507907257,
    "classifier_weight_down": 0.7998796379474503,
    "mag_scale_up_small": 4.236223459887994,
    "mag_scale_up_medium": 6.004873989816046,
    "mag_scale_up_large": 12.587329280410852,
    "mag_scale_down_small": 3.5368705200012927,
    "mag_scale_down_medium": 6.098247897371905,
    "mag_scale_down_large": 9.85258384277232,
    "boost_threshold_up": 17.230610754479827,
    "boost_threshold_down": 17.179189364876972,
    "boost_amount_up": 0.05900791426509523,
    "boost_amount_down": 0.03834969158038669,
    "min_confidence_up": 0.6681683730688251,
    "min_confidence_down": 0.6896289114121914
  }
}