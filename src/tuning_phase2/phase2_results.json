{
  "timestamp": "2025-12-15T09:21:45.955027",
  "phase": "Phase 2 - Ensemble Config Tuner (IMPROVED)",
  "description": "Optimizes post-hoc ensemble decision logic using Phase 1 models. Prioritizes balanced accuracy.",
  "optimization": {
    "n_trials": 300,
    "best_trial": 225,
    "best_score": 10.779513885649996,
    "min_accuracy_target": 0.7
  },
  "data_splits": {
    "train": "2004-09-13 to 2021-12-31",
    "val": "2022-01-03 to 2023-12-31",
    "test": "2024-01-01 to 2025-11-28",
    "train_size": 4358,
    "val_size": 501,
    "test_size": 480
  },
  "test_metrics": {
    "raw_predictions": {
      "total": 480,
      "up_count": 268,
      "down_count": 212,
      "up_pct": 0.5583333333333333,
      "down_pct": 0.44166666666666665,
      "accuracy": 0.6395833333333333,
      "up_accuracy": 0.6044776119402985,
      "down_accuracy": 0.6839622641509434
    },
    "actionable_signals": {
      "total": 66,
      "rate": 0.1375,
      "up_count": 28,
      "down_count": 38,
      "up_pct": 0.42424242424242425,
      "down_pct": 0.5757575757575758,
      "accuracy": 0.8939393939393939,
      "up_accuracy": 0.8928571428571429,
      "down_accuracy": 0.8947368421052632,
      "mag_mae": 10.188898908056613,
      "mag_mae_up": 7.662636270312683,
      "mag_mae_down": 12.100665228511478
    }
  },
  "best_parameters": {
    "up_advantage": 0.11962703636329723,
    "up_thresh_high": 0.6859647298385835,
    "up_thresh_med": 0.7580378143773729,
    "up_thresh_low": 0.8051918734352951,
    "down_thresh_high": 0.7865624273813608,
    "down_thresh_med": 0.835782384148563,
    "down_thresh_low": 0.8888795300237973,
    "classifier_weight_up": 0.751367719017515,
    "classifier_weight_down": 0.7847765955412503,
    "mag_scale_up_small": 3.424843710602033,
    "mag_scale_up_medium": 6.0714041788067075,
    "mag_scale_up_large": 13.420265509053571,
    "mag_scale_down_small": 3.034328008952174,
    "mag_scale_down_medium": 6.285441207236253,
    "mag_scale_down_large": 9.147784685092342,
    "boost_threshold_up": 17.006199877513154,
    "boost_threshold_down": 17.87119786779338,
    "boost_amount_up": 0.037999748238034994,
    "boost_amount_down": 0.04992103575710355,
    "min_confidence_up": 0.5766178999839747,
    "min_confidence_down": 0.6466727520392539
  }
}