{
  "timestamp": "2025-12-06T10:20:15.265869",
  "phase": "Phase 2 - Ensemble Config Tuning",
  "description": "Optimizes post-hoc ensemble decision logic using Phase 1 models",
  "optimization": {
    "n_trials": 200,
    "best_trial": 141,
    "best_score": 12.634029188254411,
    "min_accuracy_target": 0.55
  },
  "data_splits": {
    "train": "2004-09-13 to 2021-12-31",
    "val": "2022-01-03 to 2023-12-31",
    "test": "2024-01-01 to 2025-12-04",
    "train_size": 4358,
    "val_size": 501,
    "test_size": 484
  },
  "test_metrics": {
    "raw_predictions": {
      "total": 484,
      "up_count": 272,
      "down_count": 212,
      "up_pct": 0.5619834710743802,
      "down_pct": 0.4380165289256198,
      "accuracy": 0.6342975206611571,
      "up_accuracy": 0.5955882352941176,
      "down_accuracy": 0.6839622641509434
    },
    "actionable_signals": {
      "total": 375,
      "rate": 0.7747933884297521,
      "up_count": 166,
      "down_count": 209,
      "up_pct": 0.44266666666666665,
      "down_pct": 0.5573333333333333,
      "accuracy": 0.6906666666666667,
      "up_accuracy": 0.6927710843373494,
      "down_accuracy": 0.6889952153110048,
      "mag_mae": 13.11842361179542,
      "mag_mae_up": 11.008569929238371,
      "mag_mae_down": 14.800191039920602
    }
  },
  "best_parameters": {
    "up_advantage": 0.05353497987786415,
    "up_thresh_high": 0.6032706937443115,
    "up_thresh_med": 0.6560530178746908,
    "up_thresh_low": 0.6939666076403904,
    "down_thresh_high": 0.5860937370400223,
    "down_thresh_med": 0.6580193026215142,
    "down_thresh_low": 0.7073471625784016,
    "classifier_weight_up": 0.7054329793027185,
    "classifier_weight_down": 0.6295569252388133,
    "mag_scale_up_small": 3.969701808328531,
    "mag_scale_up_medium": 6.484813582001927,
    "mag_scale_up_large": 12.490827243415952,
    "mag_scale_down_small": 2.848772232705783,
    "mag_scale_down_medium": 6.256020965102162,
    "mag_scale_down_large": 8.750597348504957,
    "boost_threshold_up": 17.275049040806177,
    "boost_threshold_down": 10.61369840594449,
    "boost_amount_up": 0.07713531325944863,
    "boost_amount_down": 0.05291922828294564,
    "min_confidence_up": 0.5863777761377236,
    "min_confidence_down": 0.6459224093507855
  }
}