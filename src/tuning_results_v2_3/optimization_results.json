{
  "timestamp": "2025-11-30T14:26:16.121099",
  "optimization": {
    "n_trials": 200,
    "n_folds": 3,
    "best_trial": 52,
    "best_score": 68.68654412959128,
    "diversity_weight": 1.5,
    "overfitting_penalty": 10.0,
    "recall_weight": 5.0
  },
  "metrics": {
    "magnitude": {
      "mae": 11.616670890992774,
      "mae_std": 1.1473148606823769,
      "bias": -1.659929872914368,
      "calibration_error": 0.13382034417331765,
      "train_val_gap": 2.9331954453564744
    },
    "direction_raw": {
      "accuracy": 0.574268803103159,
      "precision": 0.4620828197050632,
      "recall": 0.2012677621597004,
      "f1": 0.24387772254640638
    },
    "direction_calibrated": {
      "accuracy": 0.6029343342226777,
      "accuracy_std": 0.033503654095003256,
      "f1": 0.5010025300081001,
      "precision": 0.6027550880371088,
      "recall": 0.45271047049506924,
      "ece": 0.051746512365273924,
      "brier": 0.23754721433739504,
      "train_val_gap": 0.03323902086601652
    },
    "ensemble": {
      "confidence": 0.5893419287834689,
      "actionable_pct": 0.11652906855488919
    },
    "diversity": {
      "feature_jaccard": 0.3957526231450727,
      "feature_overlap": 0.6037037037037036,
      "pred_correlation": 0.7237000417126344,
      "overall_diversity": 0.43308027308913793
    },
    "features": {
      "magnitude": 90,
      "direction": 102,
      "common": 54
    }
  },
  "parameters": {
    "data": {
      "quality_threshold": 0.5646673343022767,
      "cohort_weights": {
        "fomc_period": 1.2266317638467732,
        "opex_week": 1.400837084413694,
        "earnings_heavy": 1.3660920044602791,
        "mid_cycle": 1.0
      }
    },
    "features": {
      "mag_top_n": 87,
      "dir_top_n": 99,
      "correlation_threshold": 0.9135763381433826,
      "target_overlap": 0.5409284075137564,
      "cv": {
        "n_estimators": 141,
        "max_depth": 6,
        "learning_rate": 0.03722294955767943,
        "subsample": 0.9228819289857182,
        "colsample_bytree": 0.8298472632745758
      }
    },
    "magnitude_model": {
      "depth": 2,
      "lr": 0.029219487213420752,
      "n_est": 348,
      "sub": 0.8236192453842862,
      "col_tree": 0.7590114373258495,
      "col_lvl": 0.7446400863408356,
      "mcw": 8,
      "alpha": 0.955570208906973,
      "lambda": 8.138165170445538,
      "gamma": 0.3736989277937448
    },
    "direction_model": {
      "depth": 3,
      "lr": 0.02480301885236289,
      "n_est": 809,
      "sub": 0.6528252070526659,
      "col_tree": 0.5952966571719291,
      "mcw": 17,
      "alpha": 1.9280755844376352,
      "lambda": 3.5674476325061244,
      "gamma": 0.36915069616993873,
      "scale": 0.8490632782109873,
      "max_delta": 5
    },
    "ensemble": {
      "mag_weight": 0.26074708036985794,
      "dir_weight": 0.5436144364891222,
      "agree_weight": 0.19168542195316607,
      "small_thresh": 2.2484464917745566,
      "med_thresh": 4.538299444370452,
      "large_thresh": 7.391531273905368,
      "bonus_mod": 0.14836737055883617,
      "bonus_strong": 0.16316671674550243,
      "penalty_min": 0.002577765892694669,
      "penalty_mod": 0.24329707133337658,
      "penalty_sev": 0.37738596945493447,
      "actionable": 0.6817457759731291
    }
  },
  "walk_forward_splits": [
    {
      "fold_num": 1,
      "train_start": "2004-08-12",
      "train_end": "2007-11-05",
      "val_start": "2007-11-10",
      "val_end": "2011-02-02",
      "test_start": "2011-02-07",
      "test_end": "2014-05-02",
      "train_size": 815,
      "val_size": 813,
      "test_size": 814
    },
    {
      "fold_num": 2,
      "train_start": "2004-08-12",
      "train_end": "2011-01-28",
      "val_start": "2011-02-02",
      "val_end": "2014-04-27",
      "test_start": "2014-05-02",
      "test_end": "2017-07-25",
      "train_size": 1629,
      "val_size": 812,
      "test_size": 814
    },
    {
      "fold_num": 3,
      "train_start": "2004-08-12",
      "train_end": "2014-04-22",
      "val_start": "2014-04-27",
      "val_end": "2017-07-20",
      "test_start": "2017-07-25",
      "test_end": "2020-10-17",
      "train_size": 2440,
      "val_size": 815,
      "test_size": 815
    }
  ]
}